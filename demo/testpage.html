<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    
    <title>Slidebox Demo - X-Tag</title>

    <!-- use these imports instead of the Brick files if running from submodule
          repository instead of the Brick repository -->
    <!--
    <link rel="stylesheet" type="text/css" href="../src/slidebox.css"/>

	  <script type="text/javascript" src="x-tag-components.js"></script>	  
    <script type="text/javascript" src="../src/slidebox.js"></script>
    -->
    <link rel="stylesheet" type="text/css" href="../../../dist/brick.css"/>
    <script type="text/javascript" src="../../../dist/brick.js"></script> 

    <style type="text/css">
      #slidebox_demo {
        height: 300px;
        width: 220px;
      }
      #slidebox_demo img{
        height: 100%;
        width: 100%;
      }
    </style>
  </head>

<body>



  <dl>
    <dd id="slidebox">
      <nav class="actions">       
        <button data-action-type="slidePrevious"><- Previous Slide</button>
        <button data-action-type="slideNext">Next Slide -></button>
        <button data-action-type="slideTo">Slide To 3</button>
        <button data-action-type="slideOrientation">Toggle orientation</button>
      </nav>
      
      <x-slidebox id="slidebox_demo" orientation="x">
        <x-slides>
          <x-slide><img src="birnimal-calendar.png" /></x-slide>
          <x-slide><img src="birnimal-graph.png" /></x-slide>
          <x-slide><img src="birnimal-detail.png" /></x-slide>
          <x-slide><img src="birnimal-settings.png" /></x-slide>
        </x-slides>
      </x-slidebox>
      
    </dd>
  </dl>

  

</body>

<script type="text/javascript">
  document.getElementById('slidebox_demo').addEventListener('slideend', function(e){
    console.log("slideend event fired", e.target, this);
  });

  document.getElementById('slidebox_demo').addEventListener('fooo', function(e){
    console.log("foo");
  });

  xtag.fireEvent(document.getElementById('slidebox_demo'), 'fooo');

  document.addEventListener('click', function(e){
    
    var action = e.target,
      parent = action.parentNode,
      actionType = action.getAttribute('data-action-type');
  
    if (actionType) {
    
      var tag = action.parentElement.parentElement.id,
        demo = document.getElementById(tag + '_demo');
      
      switch(actionType) {
        
        case 'slideNext':     
          demo.slideNext();
          break;

        case 'slidePrevious':
          demo.slidePrevious();
          break;

        case 'slideTo':
          demo.slideTo(2);
          break;
        case 'slideOrientation':
          demo.orientation = demo.orientation == 'x' ? 'y' : 'x';
          break;

      }
      
    }
  });
</script>

</html>
